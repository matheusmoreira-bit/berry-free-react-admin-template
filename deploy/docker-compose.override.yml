version: '3.8'

# Development override: serve local `vite/dist` with nginx, avoiding a web image build
# Usage: build frontend locally (see README) then run `docker-compose up -d` from `deploy/`
services:
  web:
    image: nginx:stable-alpine
    volumes:
      - ../vite/dist:/usr/share/nginx/html:ro
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    depends_on:
      - server
    restart: unless-stopped
    # Uncomment the following if you want to access the site directly on port 3000
    # ports:
    #   - "3000:80"
